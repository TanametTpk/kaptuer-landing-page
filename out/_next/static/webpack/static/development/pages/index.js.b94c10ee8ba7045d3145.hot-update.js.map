{"version":3,"file":"static/webpack/static/development/pages/index.js.b94c10ee8ba7045d3145.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport KaptuerHeader from '../components/custom/KaptuerHeader'\nimport {Button} from '../components/Button'\nimport Section from '../components/Section'\nimport Stack from '../components/Stack'\nimport GridCol from '../components/Grid'\n// import Input from '../components/Input'\nimport Modal from 'react-modal'\nimport GoogleLogin from 'react-google-login'\nimport FacebookLogin from 'react-facebook-login'\nimport { TitleSeperateLine } from '../components/SeperateLine'\nimport LoginForm from '../components/custom/LoginForm'\nimport { FB_TOKEN, GOOGLE_TOKEN } from '../configs/oauth'\nimport signable from '../util/api/libs/signable'\nimport API from '../configs/apis'\nimport { connect } from 'react-redux'\nimport { logIn } from '../store/actions/user'\nimport { useScrollY, useModal } from '../util/hooks'\nimport Loader from '../components/Loader'\nimport Router from 'next/router'\n\nimport { initGA, pageView, logEvent } from '../util/analytics/ga'\n\nimport '../assets/css/main.css'\n\n// get information to display in that language\n// TODO - change this to ssr\nconst information = require('../assets/info').th\nModal.setAppElement('#__next')\n\nlet buttons = [\n    {\n        key:\"signup\",\n        href:\"/signup\",\n        text:\"signup\",\n        primary:false\n    },\n    {\n        key:\"login\",\n        href:\"\",\n        text:\"LOGIN\",\n        primary:true\n    },\n]\n\nconst LandingPage = (props) => {\n    \n    let currentY = 0\n    if (process.browser) {\n        // client-side-only code\n        currentY = useScrollY()\n    }\n\n    let [state, setState] = useState({\n        email:\"\",\n    })\n\n    useEffect(() => {\n        \n        // Analytic\n        if (!window.GA_INITIALIZED){\n            initGA()\n            pageView()            \n            window.GA_INITIALIZED = true\n        }\n\n        console.log(\"test\");\n        \n        \n    })\n\n    let [loginModal, openLogin, closeLogin] = useModal()\n    let [signupModal, openSignup, closeSignup] = useModal()\n    let [isLoad, setLoad] = useState(false)\n    \n    const login = async (payload, method) => {\n\n        if (await props.logIn(signable[method](payload))) {\n            window.location.href = API.APP;\n            setLoad(true)\n        }\n\n    }\n\n    const headerButtonOnClick = ( key ) => {\n        \n        if(key === \"signup\"){\n            // open sign-up modal\n            // openSignup()\n            logEvent(\"langingPage\" , \"nav signup\")\n            Router.push('/signup')\n        }\n        else if(key === \"login\"){\n            // openLoginModel()\n            openLogin()\n            logEvent(\"langingPage\" , \"nav login\")\n        }\n\n    }\n\n    const onInputEmailChange = ( e ) => {\n        \n        const email = e.target.value\n        \n        setState({...state, email})\n        \n    }\n\n    // ********************   just open close modal    ********************************\n\n    const openLoginModel = () => {\n        closeSignup()\n        openLogin()\n    }\n\n    const closeLoginModal = () => {\n        closeLogin()\n    }\n\n    const openSignupModal = () => {\n        closeLogin()\n        openSignup()\n    }\n\n    const closeSignupModal = () => {\n        closeSignup()\n    }\n\n    const onClickTryFree = () => {\n        logEvent(\"langingPage\" , \"try it free button\")\n        Router.push('/signup')\n    }\n\n    // ********************************************************************************\n\n    // check scrolling for display shadow of header\n    const shadow = currentY <= 50 ? false : true\n\n    if (isLoad) return <Loader />\n\n    return (\n        <div className=\"Landing-page\" >\n\n            {/* custom header */}\n            <KaptuerHeader logo=\"/logo.svg\" action={headerButtonOnClick} buttons={buttons} shadow={shadow} />\n\n            {/* first section */}\n            <Section backgroundColor=\"white\" height=\"100vh\" >\n                <Stack minWidth={\"450px\"} maxWidth={\"50%\"} >\n\n                    {/* slogan of organize */}\n                    <div style={{paddingBottom:\"37px\" , fontSize:\"3rem\"}}>\n                        {information.LANDING_MAIN_SLOGAN}\n                    </div>\n                    <div style={{paddingBottom:\"37px\" , color:\"gray\"}}>\n                        {information.LANDING_MAIN_DEF}\n                    </div>\n\n                    {/* main input */}\n                    <div className=\"Login-signup-form\" onClick={onClickTryFree}>\n                        {/* <Input placeholder=\"name@company.com\" onChange={onInputEmailChange} /> */}\n                        <Button customStyle={{ margin: \"0px 12px\" }} href=\"/signup\" text={information.LANDING_MAIN_SIGNUP_BUTTON} primary />\n                    </div>\n\n                </Stack>\n            </Section>\n\n            {/* signup modal */}\n            <Modal\n                closeTimeoutMS={180}\n                isOpen={signupModal}\n                onRequestClose={closeSignupModal}\n                contentLabel=\"Example Modal\"\n                className=\"Modal-signup\"\n                overlayClassName=\"Modal-Overlay-login\"\n            >\n\n                {/* modal information */}\n                <Stack minWidth={\"450px\"} maxWidth={\"70%\"} >\n\n                    <div style={{paddingBottom:\"37px\" , fontSize:\"3rem\" , textAlign:'center'}}>\n                        {information.LANDING_MODAL_TITLE}\n                    </div>\n\n                    <div style={{paddingBottom:\"37px\" , color:\"gray\" , textAlign:'center'}}>\n                        {information.LANDING_MODAL_DESCRIPTION}\n                    </div>\n\n                </Stack>\n\n                {/* modal input */}\n                <div className=\"Login-signup-form\">\n                    {/* <Input placeholder=\"name@company.com\" onChange={onInputEmailChange} /> */}\n                    <Button customStyle={{ margin: \"0px 12px\" }} href=\"/signup\" text={information.LANDING_MAIN_SIGNUP_BUTTON} primary />\n                </div>\n\n                {/* modal policy part */}\n                <Stack minWidth={\"450px\"} maxWidth={\"50%\"} >\n\n                    <div style={{paddingTop:\"37px\" , color:\"gray\" , textAlign:'center'}}>\n                        <p>\n                            {information.LANDING_MODAL_POLICIES[0]} <a className=\"hilightLink\" href=\"/\">Privacy Policy</a> {information.LANDING_MODAL_POLICIES[1]} <a className=\"hilightLink\" href=\"/\" >Terms of Service.</a>\n                        </p>\n                        \n                    </div>\n\n                </Stack>\n\n            </Modal>\n\n            {/* Login modal */}\n            <Modal\n                closeTimeoutMS={180}\n                isOpen={loginModal}\n                onRequestClose={closeLoginModal}\n                className=\"Modal-login\"\n                overlayClassName=\"Modal-Overlay-login\"\n            >\n\n                {/* Title of modal */}\n                <label style={{fontSize:\"2.5rem\"}} >Log In</label>\n\n                {/* OAuth With other Provider */}\n                <GridCol gap=\"20px\" customStyle={{margin:\"25px 0px\"}} >\n\n                    <FacebookLogin\n                        appId={FB_TOKEN}\n                        autoLoad={false}\n                        fields=\"name,email,picture\"\n                        callback={(res)=>login(res,\"FacebookSign\")} />\n\n                    <GoogleLogin\n                        clientId={GOOGLE_TOKEN}\n                        buttonText=\"Login\"\n                        onSuccess={(res)=>login(res,\"GoogleSign\")}\n                        cookiePolicy={'single_host_origin'} />\n\n                </GridCol>\n                \n                {/* Seperate Line */}\n                <TitleSeperateLine title=\"OR\" />\n\n                {/* Login form */}\n                <LoginForm onSubmit={(res)=>login(res,\"LocalSign\")} />\n\n                {/* switch to signup modal */}\n                <p style={{color:\"gray\"}}>Donâ€™t have an account? <label className=\"hilightLink\" onClick={openSignupModal} >Sign up</label></p>\n\n            </Modal>\n\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    user:state.user\n})\n\nconst mapDispatchToProps = {\n    logIn\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LandingPage)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AACA;AAAA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AACA;AAOA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;AASA;AADA;AARA;AAAA;AACA;AAWA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAzBA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AA6BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAQA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AADA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AAGA;AACA;AADA;AAIA;;;;A","sourceRoot":""}